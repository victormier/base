= render 'header'

- content_for :actions do
  .info.pull-right
    h4#results.pull-right
      =' @translations.total_entries
      | resultats

#search-form
  = simple_form_for :search, :url => admin_translations_path, :method => :get do |f|
    = f.hidden_field :language, :value => @search_params['language']
    = f.input :key, :as => :string, :label => 'Key', :required => false, :input_html => { :value => @search_params[:key], :class => 'input-medium' }
    = f.input :value, :as => :string, :label => 'Value', :required => false,  :input_html => { :value => @search_params[:value], :class => 'input-large' }
    = f.button :submit, "Search"

- if @translations.any?
  #translations-table
    = will_paginate @translations
    = render 'translations_table', :translations => @translations, :with_other => true
    = will_paginate @translations
- else
  .leader.well No results to show

#translations-modal.modal.hide.fade
  .modal-header
    button.close data-dismiss="modal" x
    h3 Other languages
  .modal-body

- content_for :custom_js do
  javascript:
    $(document).ready(
      function(){
        $("a.other_langs").bind("ajax:success",
          function(evt, data, status, xhr){
            $("#translations-modal .modal-body").html(data);
            $("#translations-modal").modal();
          }).bind("ajax:error",
          function(evt, data, status, xhr){
            console.log('error retrieving data')
          });
    });